version: 2.1

orbs:
  node: circleci/node@5.0.2
  continuation: circleci/continuation@0.3.1

setup: true

jobs:
  checking-branch:
    executor: node/default
    steps:
      - checkout
      - run: 
          command: |
            if [ << pipeline.git.branch >> != "main" ]; then
              exit 1
            fi
      - continuation/continue:
          configuration_path: config2.yml  

workflows:
  run-if-main:
    jobs:
      - checking-branch